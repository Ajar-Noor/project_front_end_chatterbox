"use strict";(self.webpackChunkmychatterbox=self.webpackChunkmychatterbox||[]).push([[577],{4577:function(e,r,t){t.r(r);var n=t(4942),a=t(4165),s=t(5861),o=t(9439),l=t(1413),i=t(2791),c=t(1087),u=t(9655),d=(t(5462),t(8487)),p=t(184),f={regUser:null,registerInfo:{name:"",email:"",password:""},registerError:null,isRegisterLoading:null},m=function(e,r){var t=r.type,n=r.payload;switch(t){case"REGISTER_USER":case"STORE_USER":return(0,l.Z)((0,l.Z)({},e),{},{regUser:n});case"UPDATE_INFO":return(0,l.Z)((0,l.Z)({},e),{},{registerInfo:(0,l.Z)((0,l.Z)({},e.registerInfo),n)});case"LOADING":return(0,l.Z)((0,l.Z)({},e),{},{isRegisterLoading:n});case"REGISTER_ERROR":case"SET_REGISTER_ERROR":return(0,l.Z)((0,l.Z)({},e),{},{registerError:n});default:return e}};r.default=function(){var e=(0,i.useReducer)(m,f),r=(0,o.Z)(e,2),t=r[0],l=r[1],x=t.registerError,g=t.registerInfo;console.log("registerInfo:",g);var h=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({type:"LOADING",payload:!0}),console.log("I am reached to the getUserDetails"),e.next=4,(0,d.li)("".concat(d.v2,"/user/find"),{authorization:localStorage.getItem("token")});case 4:r=e.sent,console.log("response:",r),l({type:"LOADING",payload:!1}),r.error||l({type:"STORE_USER",payload:r});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){h()}),[]);var R=function(e){var r=e.name,t=e.value,a={type:"UPDATE_INFO",payload:(0,n.Z)({},r,t)};l(a)},y=(0,i.useCallback)(function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),l({type:"LOADING",payload:!0}),l({type:"SET_REGISTER_ERROR",payload:null}),e.next=5,(0,d.Nv)("".concat(d.v2,"/user/register"),JSON.stringify(g));case 5:t=e.sent,l({type:"LOADING",payload:!1}),t.error&&l({type:"REGISTER_ERROR",payload:t}),localStorage.setItem("user",JSON.stringify(t)),l({type:"REGISTER_USER",payload:t});case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[g]);return(0,p.jsx)("div",{className:"bg-[#5B96F7]",children:(0,p.jsx)("div",{className:"flex justify-center items-center h-screen bg-[#5B96F7]",children:(0,p.jsxs)("div",{className:"h-[440px] w-[400px] rounded-xl shadow-xl bg-[#AFBBF7] p-6",children:[(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)("span",{className:"font-bold text-2xl text-white",children:"Registration"})}),(0,p.jsx)("div",{className:"flex justify-center items-center",children:(0,p.jsxs)("div",{className:"form-control w-full max-w-xs pt-9",children:[(0,p.jsxs)("form",{onSubmit:y,children:[(0,p.jsx)("input",{type:"text",placeholder:"Name",name:"name",value:g.name,onChange:function(e){return R(e.target)},className:"input input-bordered w-full max-w-xs"}),(0,p.jsx)("input",{type:"email",placeholder:"type email...",name:"email",value:g.email,onChange:function(e){return R(e.target)},className:"input input-bordered w-full max-w-xs mt-7"}),(0,p.jsx)("input",{type:"password",placeholder:"Password...",name:"password",value:g.password,onChange:function(e){return R(e.target)},className:"input input-bordered w-full max-w-xs mt-7"}),(0,p.jsx)("button",{className:"btn mt-7 w-full border-none hover:bg-[#5B96F7] hover:text-white ",type:"submit",onClick:function(){null!==x&&void 0!==x&&x.error?u.Am.error((0,p.jsx)("div",{children:(0,p.jsx)("span",{children:x.message})})):u.Am.success((0,p.jsx)("span",{children:"Congrats! User Registered Successfully"}))},children:t.isRegisterLoading?"Creating your Account":"Register"})]}),(0,p.jsxs)("div",{className:"flex gap-2 pt-3",children:[(0,p.jsx)("span",{children:"Already have an account?"}),(0,p.jsx)(c.rU,{to:"/auth/login",className:"font-bold text-[#5B96F7]",children:"Login"})]})]})})]})})})}},5462:function(){}}]);
//# sourceMappingURL=577.fc978602.chunk.js.map