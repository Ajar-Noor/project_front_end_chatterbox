{"version":3,"file":"static/js/577.fc978602.chunk.js","mappings":"yOAMMA,EAAe,CACnBC,QAAS,KACTC,aAAc,CAAEC,KAAM,GAAIC,MAAO,GAAIC,SAAU,IAC/CC,cAAe,KACfC,kBAAmB,MAGfC,EAAa,SAACC,EAAOC,GACzB,IAAQC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QACd,OAAQD,GACN,IAAK,gBA4BL,IAAK,aACH,OAAAE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKJ,GAAK,IACRR,QAASW,IA1Bb,IAAK,cAGH,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKJ,GAAK,IACRP,cAAYW,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAOJ,EAAMP,cAAiBU,KAE9C,IAAK,UACH,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKJ,GAAK,IACRF,kBAAmBK,IAEvB,IAAK,iBAML,IAAK,qBACH,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKJ,GAAK,IACRH,cAAeM,IAOnB,QACE,OAAOH,EAEb,EAuKA,UArKiB,WACf,IAAAK,GAA0BC,EAAAA,EAAAA,YAAWP,EAAYR,GAAagB,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvDL,EAAKO,EAAA,GAAEE,EAAQF,EAAA,GACdV,EAAgCG,EAAhCH,cAAeJ,EAAiBO,EAAjBP,aACvBiB,QAAQC,IAAI,gBAAiBlB,GAE7B,IAAMmB,EAAc,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAQrB,OAPAb,EAAS,CACPP,KAAM,UACNC,SAAS,IAGXO,QAAQC,IAAI,sCAEZS,EAAAE,KAAA,GACuBC,EAAAA,EAAAA,IAAW,GAADC,OAAIC,EAAAA,GAAO,cAAc,CACxDC,cAAeC,aAAaC,QAAQ,WACnC,KAAD,EAFIV,EAAQE,EAAAS,KAIdnB,QAAQC,IAAI,YAAaO,GACzBT,EAAS,CACPP,KAAM,UACNC,SAAS,IAGNe,EAASY,OACZrB,EAAS,CACPP,KAAM,aACNC,QAASe,IAEZ,wBAAAE,EAAAW,OAAA,GAAAd,EAAA,KACF,kBAzBmB,OAAAJ,EAAAmB,MAAA,KAAAC,UAAA,MA4BpBC,EAAAA,EAAAA,YAAU,WACRtB,GACF,GAAG,IAKH,IAAMuB,EAAqB,SAACC,GAE1B,IAAQ1C,EAAgB0C,EAAhB1C,KAAM2C,EAAUD,EAAVC,MAERpC,EAAS,CAAEC,KAAM,cAAeC,SAAOmC,EAAAA,EAAAA,GAAA,GAAK5C,EAAO2C,IAEzD5B,EAASR,EACX,EAGMsC,GAAeC,EAAAA,EAAAA,aAAW,eAAAC,GAAA3B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAC9B,SAAA0B,EAAOC,GAAC,IAAAzB,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,OAWN,OAVAqB,EAAEE,iBACFpC,EAAS,CACPP,KAAM,UACNC,SAAS,IAEXM,EAAS,CACPP,KAAM,qBACNC,QAAS,OAGXyC,EAAAtB,KAAA,GACuBwB,EAAAA,EAAAA,IAAY,GAADtB,OAC7BC,EAAAA,GAAO,kBACVsB,KAAKC,UAAUvD,IACf,KAAD,EAHKyB,EAAQ0B,EAAAf,KAIdpB,EAAS,CACPP,KAAM,UACNC,SAAS,IAGPe,EAASY,OACXrB,EAAS,CACPP,KAAM,iBACNC,QAASe,IAGbS,aAAasB,QAAQ,OAAQF,KAAKC,UAAU9B,IAC5CT,EAAS,CACPP,KAAM,gBACNC,QAASe,IACR,yBAAA0B,EAAAb,OAAA,GAAAW,EAAA,KACJ,gBAAAQ,GAAA,OAAAT,EAAAT,MAAA,KAAAC,UAAA,EAjC6B,GAkC9B,CAACxC,IAcH,OACE0D,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcC,UAC3BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yDAAwDC,UACrEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4DAA2DC,SAAA,EACxEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,UAC1BF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gCAA+BC,SAAC,oBAElDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mCAAkCC,UAC/CC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oCAAmCC,SAAA,EAChDC,EAAAA,EAAAA,MAAA,QAAMC,SAAUhB,EAAac,SAAA,EAE3BF,EAAAA,EAAAA,KAAA,SACEjD,KAAK,OACLsD,YAAY,OACZ9D,KAAK,OACL2C,MAAO5C,EAAaC,KACpB+D,SAAU,SAACd,GAAC,OAAKR,EAAmBQ,EAAEP,OAAO,EAC7CgB,UAAU,0CAIZD,EAAAA,EAAAA,KAAA,SACEjD,KAAK,QACLsD,YAAY,gBACZ9D,KAAK,QACL2C,MAAO5C,EAAaE,MACpB8D,SAAU,SAACd,GAAC,OAAKR,EAAmBQ,EAAEP,OAAO,EAC7CgB,UAAU,+CAIZD,EAAAA,EAAAA,KAAA,SACEjD,KAAK,WACLsD,YAAY,cACZ9D,KAAK,WACL2C,MAAO5C,EAAaG,SACpB6D,SAAU,SAACd,GAAC,OAAKR,EAAmBQ,EAAEP,OAAO,EAC7CgB,UAAU,+CAIZD,EAAAA,EAAAA,KAAA,UACEC,UAAU,mEACVlD,KAAK,SACLwD,QAtDD,WACA,OAAb7D,QAAa,IAAbA,GAAAA,EAAeiC,MACX6B,EAAAA,GAAM7B,OACJqB,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAAA,QAAAE,SAAOxD,EAAc+D,aAGzBD,EAAAA,GAAME,SAAQV,EAAAA,EAAAA,KAAA,QAAAE,SAAM,2CAC1B,EA8CgCA,SAEfrD,EAAMF,kBACH,wBACA,iBAKRwD,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,8BACNF,EAAAA,EAAAA,KAACW,EAAAA,GAAI,CAACC,GAAG,cAAcX,UAAU,2BAA0BC,SAAC,wBAU5E,C","sources":["pages/Auth/Register.jsx"],"sourcesContent":["import React, { useReducer, useCallback, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { Getrequest, Postrequest, baseURL } from \"../../utils/Services\";\r\n\r\nconst initialValue = {\r\n  regUser: null,\r\n  registerInfo: { name: \"\", email: \"\", password: \"\" },\r\n  registerError: null,\r\n  isRegisterLoading: null,\r\n};\r\n\r\nconst RegReducer = (state, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"REGISTER_USER\":\r\n      return {\r\n        ...state,\r\n        regUser: payload,\r\n      };\r\n    case \"UPDATE_INFO\":\r\n      // console.log(\"payloadFromType:\", payload);\r\n      // console.log(\"stateFromType:\", state);\r\n      return {\r\n        ...state,\r\n        registerInfo: { ...state.registerInfo, ...payload },\r\n      };\r\n    case \"LOADING\":\r\n      return {\r\n        ...state,\r\n        isRegisterLoading: payload,\r\n      };\r\n    case \"REGISTER_ERROR\":\r\n      return {\r\n        ...state,\r\n        registerError: payload,\r\n      };\r\n\r\n    case \"SET_REGISTER_ERROR\":\r\n      return {\r\n        ...state,\r\n        registerError: payload,\r\n      };\r\n    case \"STORE_USER\":\r\n      return {\r\n        ...state,\r\n        regUser: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Register = () => {\r\n  const [state, dispatch] = useReducer(RegReducer, initialValue);\r\n  const { registerError, registerInfo } = state;\r\n  console.log(\"registerInfo:\", registerInfo);\r\n\r\n  const getUserDetails = async () => {\r\n    dispatch({\r\n      type: \"LOADING\",\r\n      payload: true,\r\n    });\r\n\r\n    console.log(\"I am reached to the getUserDetails\");\r\n\r\n    // localStorage.getItem(\"token\");\r\n    const response = await Getrequest(`${baseURL}/user/find`, {\r\n      authorization: localStorage.getItem(\"token\"),\r\n    });\r\n\r\n    console.log(\"response:\", response);\r\n    dispatch({\r\n      type: \"LOADING\",\r\n      payload: false,\r\n    });\r\n\r\n    if (!response.error) {\r\n      dispatch({\r\n        type: \"STORE_USER\",\r\n        payload: response,\r\n      });\r\n    }\r\n  };\r\n\r\n  //whenever application reloads we get user from local storage and then we add the user to the state\r\n  useEffect(() => {\r\n    getUserDetails();\r\n  }, []);\r\n\r\n  // console.log(\"userName\", regUser?.name);\r\n\r\n  //update Register Information\r\n  const updateRegisterInfo = (target) => {\r\n    // console.log(target);\r\n    const { name, value } = target;\r\n    // console.log(\"Name:\", name, \"Value:\", value);\r\n    const action = { type: \"UPDATE_INFO\", payload: { [name]: value } };\r\n    // console.log(\"action:\", action);\r\n    dispatch(action);\r\n  };\r\n\r\n  // registerUser function to register user\r\n  const registerUser = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n      dispatch({\r\n        type: \"LOADING\",\r\n        payload: true,\r\n      });\r\n      dispatch({\r\n        type: \"SET_REGISTER_ERROR\",\r\n        payload: null,\r\n      });\r\n\r\n      // console.log(\"I am reached to the registerUser\");\r\n      const response = await Postrequest(\r\n        `${baseURL}/user/register`,\r\n        JSON.stringify(registerInfo)\r\n      );\r\n      dispatch({\r\n        type: \"LOADING\",\r\n        payload: false,\r\n      });\r\n\r\n      if (response.error) {\r\n        dispatch({\r\n          type: \"REGISTER_ERROR\",\r\n          payload: response,\r\n        });\r\n      }\r\n      localStorage.setItem(\"user\", JSON.stringify(response));\r\n      dispatch({\r\n        type: \"REGISTER_USER\",\r\n        payload: response,\r\n      });\r\n    },\r\n    [registerInfo]\r\n  );\r\n\r\n  // Error toast function\r\n  const notify = () => {\r\n    registerError?.error\r\n      ? toast.error(\r\n          <div>\r\n            <span>{registerError.message}</span>\r\n          </div>\r\n        )\r\n      : toast.success(<span>Congrats! User Registered Successfully</span>);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-[#5B96F7]\">\r\n      <div className=\"flex justify-center items-center h-screen bg-[#5B96F7]\">\r\n        <div className=\"h-[440px] w-[400px] rounded-xl shadow-xl bg-[#AFBBF7] p-6\">\r\n          <div className=\"text-center\">\r\n            <span className=\"font-bold text-2xl text-white\">Registration</span>\r\n          </div>\r\n          <div className=\"flex justify-center items-center\">\r\n            <div className=\"form-control w-full max-w-xs pt-9\">\r\n              <form onSubmit={registerUser}>\r\n                {/* userName */}\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Name\"\r\n                  name=\"name\"\r\n                  value={registerInfo.name}\r\n                  onChange={(e) => updateRegisterInfo(e.target)}\r\n                  className=\"input input-bordered w-full max-w-xs\"\r\n                />\r\n\r\n                {/* email */}\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"type email...\"\r\n                  name=\"email\"\r\n                  value={registerInfo.email}\r\n                  onChange={(e) => updateRegisterInfo(e.target)}\r\n                  className=\"input input-bordered w-full max-w-xs mt-7\"\r\n                />\r\n\r\n                {/* password */}\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Password...\"\r\n                  name=\"password\"\r\n                  value={registerInfo.password}\r\n                  onChange={(e) => updateRegisterInfo(e.target)}\r\n                  className=\"input input-bordered w-full max-w-xs mt-7\"\r\n                />\r\n\r\n                {/*register user*/}\r\n                <button\r\n                  className=\"btn mt-7 w-full border-none hover:bg-[#5B96F7] hover:text-white \"\r\n                  type=\"submit\"\r\n                  onClick={notify}\r\n                >\r\n                  {state.isRegisterLoading\r\n                    ? \"Creating your Account\"\r\n                    : \"Register\"}\r\n                </button>\r\n              </form>\r\n\r\n              {/* redirect you to login if you already have an account */}\r\n              <div className=\"flex gap-2 pt-3\">\r\n                <span>Already have an account?</span>\r\n                <Link to=\"/auth/login\" className=\"font-bold text-[#5B96F7]\">\r\n                  Login\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"names":["initialValue","regUser","registerInfo","name","email","password","registerError","isRegisterLoading","RegReducer","state","action","type","payload","_objectSpread","_useReducer","useReducer","_useReducer2","_slicedToArray","dispatch","console","log","getUserDetails","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","Getrequest","concat","baseURL","authorization","localStorage","getItem","sent","error","stop","apply","arguments","useEffect","updateRegisterInfo","target","value","_defineProperty","registerUser","useCallback","_ref2","_callee2","e","_context2","preventDefault","Postrequest","JSON","stringify","setItem","_x","_jsx","className","children","_jsxs","onSubmit","placeholder","onChange","onClick","toast","message","success","Link","to"],"sourceRoot":""}